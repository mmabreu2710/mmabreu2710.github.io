# Challenge "SQL Direct" Writeup

## Vulnerability: Direct SQL Database Access

### Where: PostgreSQL database with accessible data containing the flag

### Impact: This challenge demonstrates how direct access to a database can reveal sensitive information, like a flag, if proper access controls are not in place.

**NOTE**: The challenge involves connecting directly to a PostgreSQL database, examining its structure, and querying the data to locate the flag.

## Steps to reproduce:

1. **Connect to the PostgreSQL Database**:
   We connected to the provided PostgreSQL server using the following command:

   ```
   psql -h saturn.picoctf.net -p 56338 -U postgres pico
   ```

   When prompted, we entered the password:

   ```
   Password: postgres
   ```

2. **List Available Tables**:
   Once connected, we listed the tables in the database using:

   ```
   \dt
   ```

   This command returned one table named `flags`.

3. **Inspect the Flags Table**:
   Next, we checked the columns within the `flags` table to understand its structure:

   ```
   \d flags
   ```

   The output showed that the `flags` table contains columns named `id`, `firstname`, `lastname`, and `address`.

4. **Query the Flags Table for the Flag**:
   We retrieved all entries in the `flags` table using:

   ```
   SELECT * FROM flags;
   ```

   This query returned multiple rows, and in the `address` column of the first row, we found the flag:

   ```
   picoCTF{L3arN_S0m3_5qL_t0d4Y_21c94904}
   ```

5. **Exit the Database**:
   After retrieving the flag, we exited the database session with:

   ```
   \q
   ```

## Conclusion:

By directly accessing and querying the PostgreSQL database, we found the flag embedded within the `flags` table, successfully completing the challenge.
